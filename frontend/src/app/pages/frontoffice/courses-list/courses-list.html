<div class="min-h-screen bg-white text-gray-800 font-poppins overflow-x-hidden">


    <section class="relative w-full h-[800px] overflow-hidden">
        <img src="assets/cursos.png" alt="Cursos" class="absolute inset-0 w-full h-full object-cover">

        <div class="relative z-10 flex flex-col justify-center items-start h-full text-white pl-8 mt-52">
            <h1 class="text-4xl sm:text-4xl lg:text-8xl font-poppins relative">
                Cursos
                <span
                    class="absolute left-0 -bottom-2 w-40 sm:-bottom-3 md:-bottom-4 lg:w-[450px] h-1 bg-redIsla ml-3"></span>
            </h1>
        </div>
    </section>


    <section class="px-6 py-12 max-w-[1600px] mx-auto text-center mt-5">
        <h2 class="relative inline-block text-2xl font-semibold mb-8 mt-8">
            Descubra o seu curso ideal
            <span class="absolute -bottom-6 left-1/2 -translate-x-1/2 w-[700px] h-1 bg-redIsla"></span>
        </h2>

        <p class="w-[700px] mx-auto text-base leading-relaxed text-gray-700 mt-12">
            A Associação de Estudantes representa os interesses dos alunos, promove atividades culturais, desportivas e
            académicas, e apoia a integração dos novos estudantes. É um espaço de união, participação e crescimento
            dentro da comunidade académica.
        </p>


        <div class="flex justify-start max-w-[700px] mt-32 gap-4 ml-6">
            <div class="flex flex-col flex-1">
                <label for="pesquisa" class="mb-1 font-poppins text-gray-700 text-left">Pesquisar:</label>
                <input id="pesquisa" type="text" [(ngModel)]="searchQuery" (input)="filterCourses()"
                    class="px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-redIsla" />
            </div>

            <div class="flex flex-col w-1/2">
                <label for="filtro" class="mb-1 font-poppins text-gray-700 text-left">Filtrar por modalidade:</label>
                <select id="filtro" [(ngModel)]="selectedModality" (change)="filterCourses()"
                    class="px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-redIsla">
                    <option value="">Todas as modalidades</option>
                    <option *ngFor="let mod of modalities" [value]="mod">{{ mod }}</option>
                </select>
            </div>

            <div class="flex flex-col w-1/2">
                <label for="area" class="mb-1 font-poppins text-gray-700 text-left">
                    Filtrar por área:
                </label>

                <select id="area" [(ngModel)]="selectedArea" (change)="filterCourses()"
                    class="px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-redIsla">
                    <option value="">Todas as áreas</option>
                    <option *ngFor="let area of areas" [value]="area">
                        {{ area }}
                    </option>
                </select>
            </div>

        </div>


        <div class="w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 px-4 sm:px-6 md:px-8 mb-10 mt-20">

            <a *ngFor="let course of filteredCourses()"
                class="bg-white p-4 flex flex-col border border-[#D9D9D9] shadow-[0_4px_12px_rgba(0,0,0,0.18)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.22)] transition-shadow duration-300 text-left">

                <img [src]="course.image" [alt]="course.name" class="w-full h-40 object-cover mb-4">
                <p class="text-lg font-poppins text-black mb-1 text-left">{{ course.name }}</p>
                <p class="text-sm font-poppins text-gray-800 mb-2 text-left">ECTs {{ course.ects }} | {{
                    course.modality_name }}</p>
                <p class="text-sm font-poppins text-black mb-2 line-clamp-3 break-words text-left">
                    {{ course.description | slice:0:300 }}{{ course.description.length > 300 ? '...' : '' }}
                </p>

                <div class="flex items-center gap-4 text-xs sm:text-sm text-black mt-auto text-left">
                    <span class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="10" stroke="black" stroke-width="2" fill="none" />
                            <line x1="12" y1="12" x2="12" y2="7" stroke="black" stroke-width="2" />
                            <line x1="12" y1="12" x2="16" y2="12" stroke="black" stroke-width="2" />
                        </svg> {{ course.hours }}h
                    </span>
                    <span>{{ course.price }}€</span>
                </div>

                <button [routerLink]="['/course', course.id]"
                    class="mt-4 h-10 bg-redIsla text-white px-4 py-2 hover:bg-red-800 transition">
                    Saiba Mais
                </button>
            </a>

            <p *ngIf="filteredCourses().length === 0" class="col-span-full text-center text-gray-500 mt-4">
                Nenhum curso encontrado.
            </p>
        </div>


    </section>
</div>