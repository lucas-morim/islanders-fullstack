<header
  class="flex-col font-poppins px-4 sm:px-6 md:px-6 py-3 sm:py-4 bg-transparent absolute top-0 w-full z-20">
  
  <div class="flex justify-between items-center w-full">
    
    <a routerLink="/" class="block">
      <img
        [src]="logo"
        alt="Logo"
        class="h-8 sm:h-10 md:h-10 -translate-x-2 hover:opacity-80 transition"
      />
    </a>

  
    <div class="flex gap-3 sm:gap-6 items-center">
      
      <a
  routerLink="/about"
  [ngClass]="isDarkPage ? 'text-black' : 'text-white'"
  class="px-3 py-2 sm:px-5 sm:py-2
         hover:text-redIsla transition"
>
  Saiba Mais
</a>

<a
  routerLink="/courses"
  [ngClass]="isDarkPage ? 'text-black' : 'text-white'"
  class="px-3 py-2 sm:px-5 sm:py-2
         hover:text-redIsla transition"
>
  Cursos
</a>

<a
  routerLink="/community"
  [ngClass]="isDarkPage ? 'text-black' : 'text-white'"
  class="px-3 py-2 sm:px-5 sm:py-2
         hover:text-redIsla transition"
>
  Comunidade
</a>

    </div>

   
    <div class="relative ml-4">
      <img
        [src]="userPhoto"
        alt="Perfil"
        class="w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover cursor-pointer bg-white/30"
        (error)="onAvatarError($event)"
        (click)="toggleDropdown()"
      />

     
      <div
        *ngIf="dropdownOpenValue()"
        class="absolute right-0 mt-3 w-56 bg-white border border-redIsla/20 shadow-xl overflow-hidden z-30"
      >
        <div class="bg-redIsla px-4 py-3">
          <span class="block text-white font-medium truncate text-sm">
            {{ auth.user()?.username || 'Utilizador' }}
          </span>
          <span
            *ngIf="auth.user()?.email"
            class="block text-red-100 text-xs truncate opacity-90"
          >
            {{ auth.user()?.email }}
          </span>
        </div>

        <div class="divide-y divide-gray-100">
          <ng-container *ngIf="auth.isLoggedIn(); else guest">

            <div class="py-2">
              <a
                routerLink="/perfil"
                class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-red-50 transition group"
              >
                <span class="group-hover:text-redIsla">Perfil</span>
              </a>

              <a
                *ngIf="auth.isAdmin() || auth.isProfessor()"
                routerLink="/backoffice/dashboard"
                class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-red-50 transition group"
              >
                <span class="group-hover:text-redIsla">Dashboard</span>
              </a>
            </div>

            <div class="py-2">
              <button
  (click)="openLogoutModal()"
  class="w-full text-left px-4 py-3 text-gray-700 hover:bg-red-50 transition group"
>
  <span class="group-hover:text-redIsla">Logout</span>
</button>

            </div>

          </ng-container>

          <ng-template #guest>
            <div class="py-2">
              <a
                routerLink="/login"
                class="block px-4 py-3 text-gray-700 hover:bg-red-50 transition"
              >
                Login
              </a>
              <a
                routerLink="/register"
                class="block px-4 py-3 text-gray-700 hover:bg-red-50 transition"
              >
                Registar
              </a>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>

 
  <div
    class="mt-3 sm:mt-4 w-full h-0.5"
    [ngClass]="isDarkPage ? 'bg-black' : 'bg-white'"
  ></div>


<div *ngIf="showLogoutModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white shadow-lg p-6 max-w-sm w-full text-center rounded-lg">
    <h2 class="text-lg font-poppins mb-3">Tem a certeza que deseja terminar a sessão?</h2>
    

    <div class="flex justify-center gap-3">
      <button
        (click)="closeLogoutModal()"
        class="bg-gray-200 text-gray-800 px-4 py-2 hover:bg-gray-300 transition text-sm rounded"
      >
        Não
      </button>

      <button
        (click)="confirmLogout()"
        class="bg-redIsla text-white px-4 py-2 hover:bg-red-800 transition text-sm rounded"
      >
        Sim
      </button>
    </div>
  </div>
</div>

</header>
